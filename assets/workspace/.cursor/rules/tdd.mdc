---
description: Test-driven development discipline when writing code
alwaysApply: true
---

# TDD

When implementing features or fixes that have testable behavior:

1. Write the failing test first. Run it. Confirm it fails.
2. **Commit** the failing test following [commit-messages.mdc](commit-messages.mdc) (`test: ...`). Do not proceed before committing.
3. Write minimal code to make the test pass. Run it. Confirm it passes. **Commit** the implementation.
4. Refactor. Run tests. Confirm no regressions. **Commit** the refactor if meaningful.

All commits must follow [commit-messages.mdc](commit-messages.mdc). Never use `--no-verify`.

Each phase gets its own commit so the git history proves TDD compliance.

Do not write implementation code before its test. If you already wrote code, delete it and start with the test.

Skip TDD only for non-testable changes (config, templates, docs). Note why when skipping.
