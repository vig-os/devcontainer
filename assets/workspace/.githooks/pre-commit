#!/bin/bash
# Set error handling, fail on any error during script execution
set -euo pipefail

# Check if we're running inside the dev container
if [ "${IN_CONTAINER:-}" = "true" ]; then
	# Inside dev container
	echo "Running pre-commit..."
	pre-commit run
else
	# Outside dev container - try to run via podman compose
	echo "Running pre-commit via dev container..."
	podman compose run --rm devcontainer pre-commit run
fi
