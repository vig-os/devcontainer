---
type: pull_request
state: closed (merged)
branch: dev → main
created: 2025-12-10T10:16:26Z
updated: 2025-12-10T20:16:29Z
author: c-vigo
author_url: https://github.com/c-vigo
url: https://github.com/vig-os/devcontainer/pull/11
comments: 2
labels: bug
assignees: c-vigo
milestone: Initial release
projects: none
relationship: none
merged: 2025-12-10T18:24:41Z
synced: 2026-02-18T08:57:11.589Z
---

# [PR 11](https://github.com/vig-os/devcontainer/pull/11) Release Candidate 0.1, second attempt

## Description

This PR addresses and fixes the issues found during the push mechanism in the previous release attempt.
It refines the push pipeline for multi-arch builds, ensures registry cleanup across architectures, and updates release metadata.

## Related Issue(s)

Fixes issues with the failed Release Candidate 0.1
- #6 
- #7 
- #12 

## Type of Change
- [x] Bug fix (non-breaking change which fixes an issue)
- [ ] New feature (non-breaking change which adds functionality)
- [ ] Breaking change (fix or feature that would cause existing functionality to not work as expected)
- [ ] Documentation update
- [ ] Refactoring (no functional changes)
- [ ] Test updates

## Changes Made
- Export platform list, tag native builds with explicit arch, and streamline native/multi-arch build, push, and manifest steps in `push.sh`, including a temporary arch-less tag for tests.
- Add an arch-suffix helper and autouse fixture in registry tests to ensure no arch-suffixed images remain after test runs.
- Update README and CHANGELOG metadata for the 0.1 release (date and image size).

## Testing
All tests pass locally (`make test` - runs image, integration, and registry tests)

## Checklist
- [x] My code follows the project's style guidelines
- [x] I have performed a self-review of my code
- [x] I have commented my code, particularly in hard-to-understand areas
- [x] I have updated the documentation accordingly (README.md, CONTRIBUTE.md, etc.)
- [x] I have updated the CHANGELOG.md in the `[Unreleased]` section
- [x] My changes generate no new warnings or errors
- [x] I have added tests that prove my fix is effective or that my feature works
- [x] New and existing unit tests pass locally with my changes
- [x] Any dependent changes have been merged and published

## Additional Notes
- `devcontainer up` integration setup now succeeds by retagging the native build to an arch-less tag for tests; the tag is removed afterward.


---
---

## Review Threads (1)

### Review by [@gerchowl](https://github.com/gerchowl)

_Posted on December 10, 2025 at 05:31 PM_

_File: [`README.md (line 1 RIGHT)`](https://github.com/vig-os/devcontainer/pull/11#discussion_r2607591431)_

this size seems weirdly inflated from the previous try.
get this out of the system? useful at all? any info also means keeping it updated

Conversation:

- **[@c-vigo](https://github.com/c-vigo)** on December 10, 2025 at 08:16 PM — [link](https://github.com/vig-os/devcontainer/pull/11#discussion_r2608083180)

  well it is the actual size of the image, before it was a mistake because it was using the test dummy image

a different question is whether it's important to keep or not, but updating is automatic with `make push`


---
---

## Commits

### Commit 1: [b8fee30](https://github.com/vig-os/devcontainer/commit/b8fee30897527b8dceda91bca2e19c0145158475) by [c-vigo](https://github.com/c-vigo) on December 10, 2025 at 08:34 AM
bump uv version in test_image from 0.9.16 to 0.9.17, 2 files modified (tests/test_image.py)

### Commit 2: [0bff930](https://github.com/vig-os/devcontainer/commit/0bff9308886a3b6b9d2766a52678af00fd5e7edc) by [c-vigo](https://github.com/c-vigo) on December 10, 2025 at 08:34 AM
update integration test to deal with image tags with arch suffix, 8 files modified (tests/test_integration.py)

### Commit 3: [ce7fe56](https://github.com/vig-os/devcontainer/commit/ce7fe567d2388bdf9b65ae4351b2741aa9977a14) by [c-vigo](https://github.com/c-vigo) on December 10, 2025 at 09:00 AM
refine push flow for multi-arch builds, 240 files modified (scripts/push.sh, tests/test_registry.py)

### Commit 4: [64218ee](https://github.com/vig-os/devcontainer/commit/64218eec9fa4cff8f74ec914a1ea47a6ca32c867) by [c-vigo](https://github.com/c-vigo) on December 10, 2025 at 10:01 AM
Release 0.1, 4 files modified (README.md)

### Commit 5: [534640f](https://github.com/vig-os/devcontainer/commit/534640f6028a51a03b4883611be7d770447bbfee) by [c-vigo](https://github.com/c-vigo) on December 10, 2025 at 10:03 AM
fix CHANGELOG date, 2 files modified (CHANGELOG.md)

### Commit 6: [8ee5324](https://github.com/vig-os/devcontainer/commit/8ee532488f6de5369336ae54a3752249fda2b1a7) by [c-vigo](https://github.com/c-vigo) on December 10, 2025 at 10:44 AM
Merge remote-tracking branch 'origin/main' into dev

### Commit 7: [71eba08](https://github.com/vig-os/devcontainer/commit/71eba08fc95bb7b64a87052af03ba808396bbf45) by [c-vigo](https://github.com/c-vigo) on December 10, 2025 at 10:49 AM
update github issues, 197 files modified (.github_data/issues/10.md, .github_data/issues/13.md, .github_data/issues/8.md, .github_data/issues/9.md, .github_data/prs/11.md, .github_data/prs/12.md, .github_data/prs/7.md)
