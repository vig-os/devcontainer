---
type: pull_request
state: closed (merged)
branch: feature/108-install-cursor-agent-cli → dev
created: 2026-02-20T13:35:21Z
updated: 2026-02-20T13:59:22Z
author: gerchowl
author_url: https://github.com/gerchowl
url: https://github.com/vig-os/devcontainer/pull/114
comments: 0
labels: none
assignees: none
milestone: none
projects: none
relationship: none
merged: 2026-02-20T13:59:16Z
synced: 2026-02-20T15:25:47.959Z
---

# [PR 114](https://github.com/vig-os/devcontainer/pull/114) feat(devcontainer): install cursor-agent CLI in image

# Pull Request

## Description

Install the `cursor-agent` CLI (`agent` command) in the devcontainer image so that worktree recipes (`just worktree-start`, etc.) work out of the box without manual installation.

Original Containerfile change contributed by @nacholiya in PR #110 (commit authorship preserved). Maintainer added PATH fix, image test, and CHANGELOG entry.

## Related Issue(s)

Closes #108

## Type of Change

- [ ] Bug fix (non-breaking change which fixes an issue)
- [x] New feature (non-breaking change which adds functionality)
- [ ] Breaking change (fix or feature that would cause existing functionality to not work as expected)
- [ ] Documentation update
- [ ] Refactoring (no functional changes)
- [ ] CI / Build change
- [x] Test updates

## Changes Made

- **Containerfile**: Added `cursor-agent` installation step via `curl -fsSL https://cursor.com/install | bash`, with `ENV PATH` for `~/.local/bin` and `agent --version` verification
- **tests/test_image.py**: Added `test_cursor_agent_installed` to verify `agent --version` succeeds in the built image
- **CHANGELOG.md**: Added entry under `### Added` in `## Unreleased`

## Changelog Entry

### Added
- **cursor-agent CLI pre-installed in devcontainer image** ([#108](https://github.com/vig-os/devcontainer/issues/108))
  - Enables `just worktree-start` to work out of the box without manual installation

## Testing

- [x] Tests pass locally (`just test`)
- [x] Manual testing performed (describe below)

### Manual Testing Details

1. `just build` — image builds successfully with cursor-agent installed
2. `just test-image` — `test_cursor_agent_installed` passes (agent --version returns rc 0)
3. `just test` — full suite passes (234 pytest + 209 BATS, 0 failures)

## Checklist

- [x] My code follows the project's style guidelines
- [x] I have performed a self-review of my code
- [x] I have commented my code, particularly in hard-to-understand areas
- [x] I have updated the documentation accordingly (edit `docs/templates/`, then run `just docs`)
- [x] I have updated `CHANGELOG.md` in the `[Unreleased]` section (and pasted the entry above)
- [x] My changes generate no new warnings or errors
- [x] I have added tests that prove my fix is effective or that my feature works
- [x] New and existing unit tests pass locally with my changes
- [x] Any dependent changes have been merged and published

## Additional Notes

- The cursor-agent installer places the binary in `~/.local/bin`. The original PR #110 didn't include this in PATH, causing the build to fail. Fixed by adding `ENV PATH="/root/.local/bin:${PATH}"` before the install step, matching the pattern used for cargo-binstall.
- No version pinning — cursor-agent uses a rolling install script per the issue's proposed solution.



---
---

## Commits

### Commit 1: [f800a32](https://github.com/vig-os/devcontainer/commit/f800a325fb8980b73ba20caa7516608c14b4f40e) by [nacholiya](https://github.com/nacholiya) on February 20, 2026 at 10:39 AM
feat(devcontainer): install cursor-agent CLI in image to enable autonomous woktree workflow, 9 files modified (Containerfile)

### Commit 2: [12dae8a](https://github.com/vig-os/devcontainer/commit/12dae8ab3b9482ac42acc2f2d7478e4d25564f0e) by [gerchowl](https://github.com/gerchowl) on February 20, 2026 at 01:13 PM
docs: add changelog entry for cursor-agent CLI installation, 2 files modified (CHANGELOG.md)

### Commit 3: [37e3aa8](https://github.com/vig-os/devcontainer/commit/37e3aa8818b91d7e0c32207ecd232075eded4df8) by [commit-action-bot[bot]](https://github.com/apps/commit-action-bot) on February 20, 2026 at 01:19 PM
chore: sync issues and PRs, 1823 files modified

### Commit 4: [76a9462](https://github.com/vig-os/devcontainer/commit/76a94624fbad70d97709fa13f1d2e3a8100f8a92) by [gerchowl](https://github.com/gerchowl) on February 20, 2026 at 01:17 PM
test: add image test for cursor-agent CLI presence, 5 files modified (tests/test_image.py)

### Commit 5: [16939ca](https://github.com/vig-os/devcontainer/commit/16939cafa0aec2aeb17a5c5acee3fc1824f4f157) by [gerchowl](https://github.com/gerchowl) on February 20, 2026 at 01:20 PM
fix(devcontainer): add cursor-agent install path to PATH, 7 files modified (Containerfile)
