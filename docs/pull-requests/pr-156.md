---
type: pull_request
state: closed (merged)
branch: feature/152-devc-remote-sh → feature/70-remote-devc-orchestration
created: 2026-02-22T09:51:50Z
updated: 2026-02-22T13:57:47Z
author: gerchowl
author_url: https://github.com/gerchowl
url: https://github.com/vig-os/devcontainer/pull/156
comments: 0
labels: none
assignees: gerchowl
milestone: none
projects: none
relationship: none
merged: 2026-02-22T13:57:45Z
synced: 2026-02-23T04:30:10.296Z
---

# [PR 156](https://github.com/vig-os/devcontainer/pull/156) feat(scripts): devc-remote.sh — bash orchestrator for remote devcontainer (#152)

## Description

Adds `scripts/devc-remote.sh` — the bash orchestrator for starting a devcontainer on a remote host via SSH. Part of #70. Handles SSH connectivity, pre-flight checks, container state detection, and compose lifecycle. URI construction delegated to Python helper (sibling sub-issue).

## Type of Change

<!-- Mark the relevant option(s) with an 'x' -->

- [x] `feat` -- New feature
- [ ] `fix` -- Bug fix
- [ ] `docs` -- Documentation only
- [ ] `chore` -- Maintenance task (deps, config, etc.)
- [ ] `refactor` -- Code restructuring (no behavior change)
- [ ] `test` -- Adding or updating tests
- [ ] `ci` -- CI/CD pipeline changes
- [ ] `build` -- Build system or dependency changes
- [ ] `revert` -- Reverts a previous commit
- [ ] `style` -- Code style (formatting, whitespace)

### Modifiers

- [ ] Breaking change (`!`) -- This change breaks backward compatibility

## Changes Made

- **scripts/devc-remote.sh** (new): Main orchestrator with parse_args, detect_editor_cli, check_ssh, remote_preflight, remote_compose_up, open_editor
- **scripts/devc_remote_uri.py** (new): Stub for URI construction (accepts --ssh-host, --path; returns placeholder URI)
- **tests/bats/devc-remote.bats** (new): BATS unit tests with mocked ssh, cursor, python3
- **CHANGELOG.md**: Added entry under ## Unreleased

## Changelog Entry

### Added

- **devc-remote.sh — bash orchestrator for remote devcontainer** ([#152](https://github.com/vig-os/devcontainer/issues/152))
  - `scripts/devc-remote.sh`: parse_args, detect_editor_cli, check_ssh, remote_preflight, remote_compose_up, open_editor
  - `scripts/devc_remote_uri.py`: stub for URI construction (sibling sub-issue)
  - BATS unit tests with mocked commands

## Testing

<!-- Describe the tests you ran and how to verify your changes -->
- [x] Tests pass locally (`just test-bats`, `just lint`)
- [ ] Manual testing performed (describe below)

### Manual Testing Details

N/A — BATS tests cover script structure, argument parsing, detect_editor_cli, check_ssh, remote_preflight, remote_compose_up (skip when running), open_editor flow.

## Checklist

<!-- Mark completed items with an 'x' -->
- [x] My code follows the project's style guidelines
- [x] I have performed a self-review of my code
- [x] I have commented my code, particularly in hard-to-understand areas
- [ ] I have updated the documentation accordingly (edit `docs/templates/`, then run `just docs`)
- [x] I have updated `CHANGELOG.md` in the `[Unreleased]` section (and pasted the entry above)
- [x] My changes generate no new warnings or errors
- [x] I have added tests that prove my fix is effective or that my feature works
- [x] New and existing unit tests pass locally with my changes
- [x] Any dependent changes have been merged and published

## Additional Notes

Design and implementation plan posted on issue #152. Python URI helper is a stub; full implementation in sibling sub-issue.

Refs: #152



---
---

## Commits

### Commit 1: [8a51570](https://github.com/vig-os/devcontainer/commit/8a5157086999e1b32a8337de6538c1602ab87ba8) by [gerchowl](https://github.com/gerchowl) on February 22, 2026 at 09:42 AM
feat(scripts): add devc-remote.sh skeleton with logging and stubs, 93 files modified (scripts/devc-remote.sh)

### Commit 2: [1c5ac06](https://github.com/vig-os/devcontainer/commit/1c5ac06c4998805dd3c08e589fe9866143068900) by [gerchowl](https://github.com/gerchowl) on February 22, 2026 at 09:42 AM
test(bats): add devc-remote script structure and parse_args tests, 110 files modified (tests/bats/devc-remote.bats)

### Commit 3: [73c4fad](https://github.com/vig-os/devcontainer/commit/73c4fad6d4da8e278714a508971fabca3928e552) by [gerchowl](https://github.com/gerchowl) on February 22, 2026 at 09:43 AM
feat(scripts): implement parse_args in devc-remote.sh, 48 files modified (scripts/devc-remote.sh, tests/bats/devc-remote.bats)

### Commit 4: [19b2e51](https://github.com/vig-os/devcontainer/commit/19b2e513d34f805d66795822574f6383f180a722) by [gerchowl](https://github.com/gerchowl) on February 22, 2026 at 09:43 AM
feat(scripts): implement detect_editor_cli in devc-remote.sh, 44 files modified (scripts/devc-remote.sh, tests/bats/devc-remote.bats)

### Commit 5: [d6678b0](https://github.com/vig-os/devcontainer/commit/d6678b0afd96ad0ee5fa152e7c501cadf0d9e2e3) by [gerchowl](https://github.com/gerchowl) on February 22, 2026 at 09:44 AM
feat(scripts): implement check_ssh in devc-remote.sh, 34 files modified (scripts/devc-remote.sh, tests/bats/devc-remote.bats)

### Commit 6: [63a2099](https://github.com/vig-os/devcontainer/commit/63a20994e4a93730217683193ef2dd36bfaafd39) by [gerchowl](https://github.com/gerchowl) on February 22, 2026 at 09:44 AM
feat(scripts): implement remote_preflight in devc-remote.sh, 117 files modified (scripts/devc-remote.sh, tests/bats/devc-remote.bats)

### Commit 7: [a31e038](https://github.com/vig-os/devcontainer/commit/a31e038bd743f35563da63e5d554693abb7940b0) by [gerchowl](https://github.com/gerchowl) on February 22, 2026 at 09:51 AM
feat(scripts): implement remote_compose_up, open_editor, and Python URI stub, 120 files modified (CHANGELOG.md, scripts/devc-remote.sh, scripts/devc_remote_uri.py, tests/bats/devc-remote.bats)
