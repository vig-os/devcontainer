---
type: pull_request
state: open
branch: bugfix/186-missing-bandit-and-check-skill-names → dev
created: 2026-02-24T16:41:43Z
updated: 2026-02-24T17:36:41Z
author: gerchowl
author_url: https://github.com/gerchowl
url: https://github.com/vig-os/devcontainer/pull/188
comments: 0
labels: none
assignees: gerchowl
milestone: none
projects: none
relationship: none
synced: 2026-02-25T04:26:04.730Z
---

# [PR 188](https://github.com/vig-os/devcontainer/pull/188) fix: container image missing bandit and check-skill-names for pre-commit (#186)

## Description

Fixes pre-commit hook failures in freshly deployed workspaces. Two hooks were failing because their dependencies were missing from the container image and workspace template:

1. **bandit** — Added to system-wide pip install in Containerfile (alongside pip-licenses, ruff, etc.)
2. **check-skill-names** — Script deployed to workspace template via manifest (`scripts/check-skill-names.sh`)

## Type of Change

<!-- Mark the relevant option(s) with an 'x' -->

- [ ] `feat` -- New feature
- [x] `fix` -- Bug fix
- [ ] `docs` -- Documentation only
- [ ] `chore` -- Maintenance task (deps, config, etc.)
- [ ] `refactor` -- Code restructuring (no behavior change)
- [ ] `test` -- Adding or updating tests
- [ ] `ci` -- CI/CD pipeline changes
- [ ] `build` -- Build system or dependency changes
- [ ] `revert` -- Reverts a previous commit
- [ ] `style` -- Code style (formatting, whitespace)

### Modifiers

- [ ] Breaking change (`!`) -- This change breaks backward compatibility

## Changes Made

- **Containerfile**: Add `bandit` to `uv pip install --system` block
- **scripts/manifest.toml**: Add entry to copy `scripts/check-skill-names.sh` to workspace template
- **assets/workspace/scripts/check-skill-names.sh**: New file (synced via manifest)
- **tests/test_image.py**: Add `test_bandit_installed` and `EXPECTED_VERSIONS["bandit"]`
- **CHANGELOG.md**: Add Fixed entry for #186

## Changelog Entry

<!-- Paste the exact entry you added to CHANGELOG.md under ## Unreleased.
     If no changelog update is needed, write "No changelog needed" and explain why.
     Example:
     ### Added
     - **SSH agent forwarding** ([#42](https://github.com/vig-os/devcontainer/issues/42))
       - Forward host SSH agent into devcontainer for seamless git authentication
-->

### Fixed

- **Container image missing bandit and check-skill-names.sh for workspace pre-commit hooks** ([#186](https://github.com/vig-os/devcontainer/issues/186))
  - Add bandit to system-wide pip install in Containerfile
  - Deploy scripts/check-skill-names.sh to workspace template via manifest

## Testing

<!-- Describe the tests you ran and how to verify your changes -->
- [x] Tests pass locally (`just test`)
- [ ] Manual testing performed (describe below)

### Manual Testing Details

N/A — `just test` runs full suite including `test_bandit_installed` and `test_manifest_files` which verify bandit installation and check-skill-names.sh deployment.

## Checklist

<!-- Mark completed items with an 'x' -->
- [x] My code follows the project's style guidelines
- [x] I have performed a self-review of my code
- [ ] I have commented my code, particularly in hard-to-understand areas
- [ ] I have updated the documentation accordingly (edit `docs/templates/`, then run `just docs`)
- [x] I have updated `CHANGELOG.md` in the `[Unreleased]` section (and pasted the entry above)
- [x] My changes generate no new warnings or errors
- [x] I have added tests that prove my fix is effective or that my feature works
- [x] New and existing unit tests pass locally with my changes
- [ ] Any dependent changes have been merged and published

## Additional Notes

TDD: test added first (RED), then bandit installation (GREEN).

Refs: #186

