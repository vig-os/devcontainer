---
type: pull_request
state: closed (merged)
branch: bugfix/121-cross-ref-misses-refs-linked-prs → dev
created: 2026-02-21T23:30:19Z
updated: 2026-02-23T07:45:02Z
author: gerchowl
author_url: https://github.com/gerchowl
url: https://github.com/vig-os/devcontainer/pull/150
comments: 0
labels: none
assignees: gerchowl
milestone: none
projects: none
relationship: none
merged: 2026-02-23T07:45:00Z
synced: 2026-02-24T04:24:20.306Z
---

# [PR 150](https://github.com/vig-os/devcontainer/pull/150) fix(gh-issues): detect Refs: #N in PR bodies for cross-refs (#121)

## Description

Fixes the `gh_issues` cross-reference logic so PRs linked via `Refs: #N` (the project's standard format per CLAUDE.md) are detected. Previously only `Closes`/`Fixes`/`Resolves` and branch-name matching were supported. GitHub does not auto-link `Refs:`, so the gh-issues table showed empty PR columns for such PRs.

## Type of Change

<!-- Mark the relevant option(s) with an 'x' -->

- [ ] `feat` -- New feature
- [x] `fix` -- Bug fix
- [ ] `docs` -- Documentation only
- [ ] `chore` -- Maintenance task (deps, config, etc.)
- [ ] `refactor` -- Code restructuring (no behavior change)
- [ ] `test` -- Adding or updating tests
- [ ] `ci` -- CI/CD pipeline changes
- [ ] `build` -- Build system or dependency changes
- [ ] `revert` -- Reverts a previous commit
- [ ] `style` -- Code style (formatting, whitespace)

### Modifiers

- [ ] Breaking change (`!`) -- This change breaks backward compatibility

## Changes Made

- `scripts/gh_issues.py`: Added `_REFS_RE` regex and parsing logic in `_build_cross_refs` to detect `Refs: #102` and comma-separated variants (`Refs: #102, #103`)
- `tests/test_gh_issues.py`: Added `test_refs_keyword_match` and `test_refs_comma_separated` unit tests
- `CHANGELOG.md`: Added Fixed entry for #121

## Changelog Entry

<!-- Paste the exact entry you added to CHANGELOG.md under ## Unreleased.
     If no changelog update is needed, write "No changelog needed" and explain why.
     Example:
     ### Added
     - **SSH agent forwarding** ([#42](https://github.com/vig-os/devcontainer/issues/42))
       - Forward host SSH agent into devcontainer for seamless git authentication
-->

### Fixed

- **gh-issues cross-ref detects Refs: #N in PR bodies** ([#121](https://github.com/vig-os/devcontainer/issues/121))
  - `_build_cross_refs` now parses `Refs: #102` and comma-separated variants (`Refs: #102, #103`) alongside Closes/Fixes/Resolves

## Testing

<!-- Describe the tests you ran and how to verify your changes -->
- [x] Tests pass locally (`just test`)
- [ ] Manual testing performed (describe below)

### Manual Testing Details

N/A — unit tests cover the new behavior. Run `just gh-issues` after merge to verify PR↔issue links appear for PRs with `Refs:` in body.

## Checklist

<!-- Mark completed items with an 'x' -->
- [x] My code follows the project's style guidelines
- [x] I have performed a self-review of my code
- [ ] I have commented my code, particularly in hard-to-understand areas
- [ ] I have updated the documentation accordingly (edit `docs/templates/`, then run `just docs`)
- [x] I have updated `CHANGELOG.md` in the `[Unreleased]` section (and pasted the entry above)
- [x] My changes generate no new warnings or errors
- [x] I have added tests that prove my fix is effective or that my feature works
- [x] New and existing unit tests pass locally with my changes
- [ ] Any dependent changes have been merged and published

## Additional Notes

N/A

Refs: #121



---
---

## Commits

### Commit 1: [6c28155](https://github.com/vig-os/devcontainer/commit/6c28155fc8b9baf6fa705f2e8b289fbab9329a1b) by [gerchowl](https://github.com/gerchowl) on February 21, 2026 at 11:29 PM
test(gh-issues): add tests for Refs: keyword in cross-refs, 14 files modified (tests/test_gh_issues.py)

### Commit 2: [e206365](https://github.com/vig-os/devcontainer/commit/e2063659c08b605ccdee034be21531e8433ddb9f) by [gerchowl](https://github.com/gerchowl) on February 21, 2026 at 11:29 PM
fix(gh-issues): detect Refs: #N in PR bodies for cross-refs, 5 files modified (scripts/gh_issues.py)

### Commit 3: [a675b53](https://github.com/vig-os/devcontainer/commit/a675b53a43b03fc4823e6c7ca86871fcc2cef839) by [gerchowl](https://github.com/gerchowl) on February 21, 2026 at 11:30 PM
docs(changelog): add entry for Refs: cross-ref fix, 2 files modified (CHANGELOG.md)

### Commit 4: [a3ad53d](https://github.com/vig-os/devcontainer/commit/a3ad53d8a5e12e4a57fdc210e6de9e5f124f05e9) by [gerchowl](https://github.com/gerchowl) on February 23, 2026 at 07:25 AM
Merge branch 'dev' into bugfix/121-cross-ref-misses-refs-linked-prs, 2908 files modified
