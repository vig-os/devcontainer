---
title: Release Candidate 0.1 for the vigOS Development Environment
state: OPEN
author: c-vigo
labels:
assignees: c-vigo
reviewers: gerchowl (Commented)
projects:
milestone: Initial release
number: 6
url: <https://github.com/vig-os/devcontainer/pull/6>
additions: 8148
deletions: 1
auto-merge: disabled
---

## Description

This PR introduces the **vigOS Development Environment** - a standardized,
production-ready development container image designed for Python-based
projects. This is the first official release (v0.1) of the devcontainer
system, providing a complete, reproducible development environment with
integrated tooling and automation.

The vigOS devcontainer provides:

- Standardized Python 3.12 development environment with minimal overhead (~450 MB)
- One-command project initialization using `init-workspace` script
- Automated Git configuration and commit signing setup
- Pre-configured development tools (pre-commit, ruff, uv)
- GitHub CLI integration for seamless workflow
- VS Code devcontainer template with Docker Compose orchestration
- Comprehensive three-tiered testing suite (image, integration, registry tests)

## Related Issue(s)

Closes #2
Closes #3

## Type of Change

- [ ] Bug fix (non-breaking change which fixes an issue)
- [x] New feature (non-breaking change which adds functionality)
- [ ] Breaking change (fix or feature that would cause existing functionality to not work as expected)
- [ ] Documentation update
- [ ] Refactoring (no functional changes)
- [ ] Test updates

## Changes Made

### Core Infrastructure

- Containerfile with Python 3.12 base image (Debian Trixie)
- System tools installation (git, gh, curl, openssh-client, ca-certificates)
- Python environment with uv, pre-commit, and ruff
- init-workspace script for project initialization
- Multi-architecture support (AMD64, ARM64)

### Devcontainer Template

- VS Code devcontainer.json configuration
- Docker Compose orchestration (docker-compose.yml)
- Support for docker-compose.override.yml for custom mounts
- Post-attach automation scripts
- Automatic Git configuration synchronization from host
- Focused devcontainer README.md with version tracking and lifecycle documentation
- User-specific workspace.code-workspace.example for multi-root VS Code workspaces

### Git & GitHub Integration

- Automated git configuration copying from host
- SSH commit signing setup with signature verification
- Pre-commit hooks initialization
- GitHub issue templates (bug_report.yml, feature_request.yml, task.yml)
- Pull request template
- GitHub CLI integration

### Development Tools & Automation

- Makefile with build, test, push, pull, clean targets
- Setup script for development environment initialization
- Build script with multi-architecture support
- Push/pull scripts for registry operations
- Automatic README.md updates with version and image size during releases

### Testing Infrastructure

- Comprehensive test suite (conftest.py)
- Image tests (test_image.py) - 8 test classes verifying container image
- Integration tests (test_integration.py) - 13 test classes verifying devcontainer deployment
- Registry tests (test_registry.py) - validates push/pull/clean workflows and README updates
- Optimized registry tests using minimal Containerfile (10-20s builds vs 2min)

### Documentation

- README.md with usage and features
- CONTRIBUTE.md with development workflow
- TESTING.md with test strategy
- CHANGELOG.md with version history and GitHub release links
- `.devcontainer/README.md` - focused documentation for devcontainer lifecycle, mounts, and workspace configuration

## Testing

- [x] All tests pass locally (`make test` - runs image, integration, and registry tests)
- [ ] Image tests pass (`make test-image`)
- [ ] Integration tests pass (`make test-integration`)
- [ ] Registry tests pass (`make test-registry`)
- [ ] Manual testing performed (describe below)

## Checklist

- [x] My code follows the project's style guidelines
- [x] I have performed a self-review of my code
- [x] I have commented my code, particularly in hard-to-understand areas
- [x] I have updated the documentation accordingly (README.md, CONTRIBUTE.md, etc.)
- [x] I have updated the CHANGELOG.md in the `[Unreleased]` section
- [x] My changes generate no new warnings or errors
- [x] I have added tests that prove my fix is effective or that my feature works
- [x] New and existing unit tests pass locally with my changes
- [x] Any dependent changes have been merged and published

## Additional Notes

### Release Proposal: v0.1

This PR proposes the **first official release (0.1)** of the vigOS Development Environment.

**Release Artifacts**:

- Container Image: `ghcr.io/vig-os/devcontainer:0.1`
- Platforms: linux/amd64, linux/arm64
- Release Date: 2025-11-26

**Release Process** (after approval):

```bash
make push VERSION=0.1
```

This will create git tag, build multi-architecture images, push to GHCR, create GitHub release, and automatically update both main README.md and devcontainer README.md with version, release link, and date.

### Architecture Decisions

1. **Docker Compose over devcontainer.json volumes**: More flexibility for volume mounting
2. **Session-scoped test fixtures**: Reduces test execution time significantly
3. **Multi-stage authentication**: Supports multiple auth methods for flexibility
4. **Minimal base image**: Keeps size under 450 MB while providing full functionality
5. **Automatic README updates**: Push script updates version and image size automatically in both main README and devcontainer README
6. **Optimized registry tests**: Uses minimal Containerfile when TEST_REGISTRY is set, skips full test suite in registry test mode
7. **Build folder approach**: README updates happen in build/ folder during push, keeping source files clean
8. **User-specific workspace files**: workspace.code-workspace is gitignored, users copy from example

### Known Limitations

- Multi-architecture builds require QEMU on Linux
- Registry tests require Docker/Podman registry support
- SSH commit signing requires host-side key setup

### Review Focus Areas

Please pay special attention to:

1. **Testing Strategy**: Is the three-tiered approach comprehensive enough?
2. **Documentation**: Are setup instructions clear for new contributors?
3. **init-workspace Script**: Does the user experience feel smooth?
4. **Release Process**: Is v0.1 ready for public release?

### Quick Demo

```bash
# Build development image locally
make build

# One-command project initialization
podman run -it --rm -v "./:/workspace" ghcr.io/vig-os/devcontainer:dev /root/assets/init-workspace.sh

# Open in VS Code
code .

# Use Command Palette: "Dev Containers: Reopen in Container"
```
