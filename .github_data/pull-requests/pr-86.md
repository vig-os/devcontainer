---
type: pull_request
state: open
branch: chore/docs-setup-formatting-fixes → dev
created: 2026-02-18T23:28:18Z
updated: 2026-02-18T23:28:19Z
author: gerchowl
author_url: https://github.com/gerchowl
url: https://github.com/vig-os/devcontainer/pull/86
comments: 0
labels: none
assignees: none
milestone: none
projects: none
relationship: none
synced: 2026-02-19T02:37:49.773Z
---

# [PR 86](https://github.com/vig-os/devcontainer/pull/86) chore: docs, setup lifecycle, and justfile formatting fixes

## Summary

- **fix(setup):** rewrite host-specific paths in `.gitconfig` at export time and refactor devcontainer lifecycle hooks — one-time setup moved from `postAttachCommand` to `postCreateCommand`, new `verify-auth.sh` for lightweight attach-time checks ([#60](https://github.com/vig-os/devcontainer/issues/60))
- **docs:** fix broken `curl | bash -s` install examples (wrong `--` separator placement) and clarify bare semver image tags vs v-prefixed git tags ([#57](https://github.com/vig-os/devcontainer/issues/57))
- **style:** apply canonical `just --fmt` formatting to `justfile.base` and `justfile.project` ([#45](https://github.com/vig-os/devcontainer/issues/45))

## Related Issues

Refs: #60, #57, #45

## Type of Change

- [x] Bug fix (non-breaking change which fixes an issue)
- [ ] New feature (non-breaking change which adds functionality)
- [ ] Breaking change (fix or feature that would cause existing functionality to not work as expected)
- [x] Documentation update
- [x] Refactoring (no functional changes)
- [ ] CI / Build change
- [x] Test updates

## Changes Made

### `fix(setup)` — host paths and lifecycle refactor (#60)
- **`copy-host-user-conf.sh`** — generates a container-ready `.gitconfig` rewriting host paths (`user.signingkey`, `gpg.ssh.allowedsignersfile`) to `/root/...` equivalents; strips host-only entries (`credential.*`, `includeIf.*`, `core.excludesfile`)
- **`post-create.sh`** — now runs all one-time setup (git config, SSH keys, gh auth, pre-commit, `uv sync`) previously in `postAttachCommand`
- **`post-attach.sh`** — simplified to auth verification only
- **`verify-auth.sh`** — new script: read-only SSH agent and `gh auth` checks, socket scanning fallback
- **`setup-git-conf.sh`** — heavily slimmed (removed SSH agent scanning logic, now just file placement)
- **`CHANGELOG.md`** — added entry under Fixed
- **`tests/test_image.py`, `tests/test_integration.py`** — added `verify-auth.sh` to expected file lists

### `docs` — install examples and image tags (#57)
- **`README.md`, `docs/templates/README.md.j2`** — moved `--` separator to correct position after `bash -s`; replaced `1.0.0` with `0.2.1`; added semver image tag note
- **`install.sh`** — fixed version references in help text

### `style` — justfile formatting (#45)
- **`justfile.base`** — canonical `just --fmt` spacing for interpolations (`{{args}}` → `{{ args }}`)
- **`justfile.project`** — same formatting, removed extra blank lines

## Testing

- [x] Tests pass locally
- [x] Pre-commit hooks pass

## Checklist

- [x] My code follows the project's style guidelines
- [x] I have performed a self-review of my code
- [x] I have updated the documentation accordingly
- [x] I have updated `CHANGELOG.md` in the `[Unreleased]` section
- [x] My changes generate no new warnings or errors
- [x] New and existing unit tests pass locally with my changes
