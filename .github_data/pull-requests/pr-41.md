---
type: pull_request
state: open
branch: feature/36-standardize-commit-messages → feature/37-automate-standardize-repository-setup
created: 2026-02-02T17:08:49Z
updated: 2026-02-02T17:08:49Z
author: c-vigo
author_url: https://github.com/c-vigo
url: https://github.com/vig-os/devcontainer/pull/41
comments: 0
labels: none
assignees: none
milestone: none
projects: none
relationship: none
synced: 2026-02-02T17:09:09.674Z
---

# [PR 41](https://github.com/vig-os/devcontainer/pull/41) feat: add commit message standardization (#36)

# Pull Request

## Description

This PR merges **commit message standardization** (#36) into the automate-repository-setup branch (#37). It adds a documented commit message format, validation (Python script + commit-msg hook), Cursor integration, and workspace template updates so new repos get the same standard.

## Related Issue(s)

Closes #36  
Related to #37

## Type of Change

- [ ] Bug fix (non-breaking change which fixes an issue)
- [x] New feature (non-breaking change which adds functionality)
- [ ] Breaking change (fix or feature that would cause existing functionality to not work as expected)
- [ ] Documentation update
- [ ] Refactoring (no functional changes)
- [ ] Test updates

## Changes Made

- **Commit message standard** — `docs/COMMIT_MESSAGE_STANDARD.md` and workspace copy: format `type(scope)!: subject`, mandatory `Refs: #<issue>`, approved types, traceability (REQ-/RISK-/SOP-).
- **Validation** — `scripts/validate_commit_msg.py`: validates subject, blank line, single Refs line with at least one `#issue`; used by commit-msg hook and tests.
- **Commit-msg hook** — `.githooks/commit-msg` (repo and `assets/workspace/.githooks/commit-msg`): runs validation; workspace hook checks `IN_CONTAINER` and calls validator.
- **Pre-commit** — commit-msg stage in `.pre-commit-config.yaml` (repo) and workspace pre-commit config: `validate-commit-msg` hook.
- **Init** — `scripts/init.sh`: sets `core.hooksPath .githooks`, `chmod +x` for pre-commit and commit-msg, and `commit.template .gitmessage`.
- **Template** — `.gitmessage` (repo and workspace): subject + Refs placeholder.
- **Cursor** — `.cursor/rules/commit-messages.mdc`, `.cursor/commands/commit-msg.md` (repo and workspace): rules and slash command for commit workflow.
- **Workspace** — `assets/workspace/.devcontainer/scripts/setup-git-conf.sh`: sets `commit.template` when `.gitmessage` exists.
- **Tests** — `tests/test_validate_commit_msg.py`: valid/invalid messages; integration tests for commit-msg hook in workspace.
- **Docs** — README/CONTRIBUTE: `test-validate-commit-msg`, commit standard reference.

## Testing

- [x] Tests pass locally (`just test`)
- [x] Manual testing performed (describe below)

### Manual Testing Details

- `just test-validate-commit-msg` passes.
- Commit with invalid message (e.g. `git commit -m "invalid"`) is rejected by commit-msg hook.
- Commit with valid message (e.g. `feat: add x` + blank line + `Refs: #36`) is accepted.

## Checklist

- [x] My code follows the project's style guidelines
- [x] I have performed a self-review of my code
- [ ] I have commented my code, particularly in hard-to-understand areas
- [x] I have updated the documentation accordingly (README.md, CONTRIBUTE.md, etc.)
- [ ] I have updated the CHANGELOG.md in the `[Unreleased]` section
- [x] My changes generate no new warnings or errors
- [x] I have added tests that prove my fix is effective or that my feature works
- [x] New and existing unit tests pass locally with my changes
- [x] Any dependent changes have been merged and published

## Additional Notes

- **Base branch:** `feature/37-automate-standardize-repository-setup`
- **No reviewer** requested; remove assignees if added by default.

