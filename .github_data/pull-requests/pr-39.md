---
type: pull_request
state: closed (merged)
branch: feature/38-standardize-branching-strategy-enforcement â†’ feature/37-automate-standardize-repository-setup
created: 2026-01-30T15:30:52Z
updated: 2026-01-30T15:31:52Z
author: c-vigo
author_url: https://github.com/c-vigo
url: https://github.com/vig-os/devcontainer/pull/39
comments: 0
labels: feature
assignees: c-vigo
milestone: none
projects: none
relationship: none
merged: 2026-01-30T15:31:46Z
synced: 2026-01-30T15:32:12.042Z
---

# [PR 39](https://github.com/vig-os/devcontainer/pull/39) Standardize and enforce branch names

## Description

Implements initial branching strategy and enforcement for the devcontainer template (issue #38): branch naming convention, pre-commit enforcement, Cursor rules for the issue-to-branch workflow, and integration tests.
This provides a reproducible baseline for branch naming that can be extended with branch protection and CI enforcement in follow-up work.

## Related Issue(s)

- Closes #38 
- Related #37 

## Type of Change

- [ ] Bug fix (non-breaking change which fixes an issue)
- [x] New feature (non-breaking change which adds functionality)
- [ ] Breaking change (fix or feature that would cause existing functionality to not work as expected)
- [ ] Documentation update
- [ ] Refactoring (no functional changes)
- [ ] Test updates

## Changes Made

### Branch name enforcement (pre-commit)

- New **branch-name** hook in pre-commit config enforcing `<type>/<issue>-<summary>` (e.g. `feature/38-standardize-branching-strategy-enforcement`).
- Config updated in root `.pre-commit-config.yaml` and in `assets/workspace/.pre-commit-config.yaml` so installed workspaces get the same hook.

### Cursor rules

- **`.cursor/rules/branch-naming.mdc`**: documents topic branch format, branch types (feature, bugfix, hotfix, release, docs, test, refactor), and step-by-step workflow for creating and linking branches via `gh issue develop` (check linked branch, infer type, short summary, create/checkout, keep in sync).

### Integration tests

- **`test_valid_branch_names_commit_succeeds`**: creates a valid branch (e.g. `feature/123-test-branch`), stages a file, runs pre-commit; expects success.
- **`test_invalid_branch_names_commit_fails`**: uses invalid names (e.g. `featur/123-typo`, `bugfix/missing-issue-number`), runs pre-commit; expects failure and branch-related output.
- **Fix**: bash command previously used the literal string `{branch_name}` instead of the Python variable; switched to f-strings so the actual branch name is passed and the branch-name hook is tested correctly.

## Testing

- [x] Tests pass locally (`just test`)
- [ ] Manual testing performed (describe below)

## Checklist

- [x] My code follows the project's style guidelines
- [x] I have performed a self-review of my code
- [x] I have commented my code, particularly in hard-to-understand areas
- [ ] I have updated the documentation accordingly (README.md, CONTRIBUTE.md, etc.)
- [x] I have updated the CHANGELOG.md in the `[Unreleased]` section
- [x] My changes generate no new warnings or errors
- [x] I have added tests that prove my fix is effective or that my feature works
- [x] New and existing unit tests pass locally with my changes
- [x] Any dependent changes have been merged and published

## Additional Notes

- Branch protection, signed commits, and CI-based branch naming checks are out of scope for this PR and can be implemented globally from Enterprise account management.



---
---

## Commits

### Commit 1: [59e7775](https://github.com/vig-os/devcontainer/commit/59e77759e6ae5019e55563d4713d9392ab5b6893) by [c-vigo](https://github.com/c-vigo) on January 30, 2026 at 10:38 AM
test: add integration tests for valid and invalid branch names in commit process, 112 files modified (tests/test_integration.py)

### Commit 2: [2436542](https://github.com/vig-os/devcontainer/commit/2436542e1a89be153856b1e61195db1e3bcb35be) by [c-vigo](https://github.com/c-vigo) on January 30, 2026 at 10:39 AM
feature: update pre-commit configuration with new hook for branch name enforcement, 9 files modified (assets/workspace/.pre-commit-config.yaml)

### Commit 3: [cbdeba9](https://github.com/vig-os/devcontainer/commit/cbdeba95141a30b4438219cc99aac5a5b63f82b0) by [c-vigo](https://github.com/c-vigo) on January 30, 2026 at 10:42 AM
feature: add Cursor rules for branch naming and issue development workflow guidelines, 55 files modified (assets/workspace/.cursor/rules/branch-naming.mdc)

### Commit 4: [dde1857](https://github.com/vig-os/devcontainer/commit/dde1857c5cae2a1ec87ad740ea9d213e0211edd0) by [c-vigo](https://github.com/c-vigo) on January 30, 2026 at 10:43 AM
feature: implement branch enforcement and Curosr rules in this repository, 64 files modified (.cursor/rules/branch-naming.mdc, .pre-commit-config.yaml)

### Commit 5: [169f581](https://github.com/vig-os/devcontainer/commit/169f5818c8a9f3924336763f072edbf4c4d78f0d) by [c-vigo](https://github.com/c-vigo) on January 30, 2026 at 10:47 AM
chore: update devcontainer pre-commit configuration, 20 files modified (assets/workspace/.pre-commit-config.yaml)

### Commit 6: [decfc07](https://github.com/vig-os/devcontainer/commit/decfc07a3ad740de72e8b34396f7f3d3c787bcf7) by [c-vigo](https://github.com/c-vigo) on January 30, 2026 at 01:20 PM
docs: update CHANGELOG, 14 files modified (CHANGELOG.md)
