---
type: pull_request
state: open
branch: feature/38-standardize-branching-strategy-enforcement â†’ feature/37-automate-standardize-repository-setup
created: 2026-01-30T15:30:52Z
updated: 2026-01-30T15:30:52Z
author: c-vigo
author_url: https://github.com/c-vigo
url: https://github.com/vig-os/devcontainer/pull/39
comments: 0
labels: feature
assignees: c-vigo
milestone: none
projects: none
relationship: none
synced: 2026-01-30T15:31:12.213Z
---

# [PR 39](https://github.com/vig-os/devcontainer/pull/39) Standardize and enforce branch names

## Description

Implements initial branching strategy and enforcement for the devcontainer template (issue #38): branch naming convention, pre-commit enforcement, Cursor rules for the issue-to-branch workflow, and integration tests.
This provides a reproducible baseline for branch naming that can be extended with branch protection and CI enforcement in follow-up work.

## Related Issue(s)

- Closes #38 
- Related #37 

## Type of Change

- [ ] Bug fix (non-breaking change which fixes an issue)
- [x] New feature (non-breaking change which adds functionality)
- [ ] Breaking change (fix or feature that would cause existing functionality to not work as expected)
- [ ] Documentation update
- [ ] Refactoring (no functional changes)
- [ ] Test updates

## Changes Made

### Branch name enforcement (pre-commit)

- New **branch-name** hook in pre-commit config enforcing `<type>/<issue>-<summary>` (e.g. `feature/38-standardize-branching-strategy-enforcement`).
- Config updated in root `.pre-commit-config.yaml` and in `assets/workspace/.pre-commit-config.yaml` so installed workspaces get the same hook.

### Cursor rules

- **`.cursor/rules/branch-naming.mdc`**: documents topic branch format, branch types (feature, bugfix, hotfix, release, docs, test, refactor), and step-by-step workflow for creating and linking branches via `gh issue develop` (check linked branch, infer type, short summary, create/checkout, keep in sync).

### Integration tests

- **`test_valid_branch_names_commit_succeeds`**: creates a valid branch (e.g. `feature/123-test-branch`), stages a file, runs pre-commit; expects success.
- **`test_invalid_branch_names_commit_fails`**: uses invalid names (e.g. `featur/123-typo`, `bugfix/missing-issue-number`), runs pre-commit; expects failure and branch-related output.
- **Fix**: bash command previously used the literal string `{branch_name}` instead of the Python variable; switched to f-strings so the actual branch name is passed and the branch-name hook is tested correctly.

## Testing

- [x] Tests pass locally (`just test`)
- [ ] Manual testing performed (describe below)

## Checklist

- [x] My code follows the project's style guidelines
- [x] I have performed a self-review of my code
- [x] I have commented my code, particularly in hard-to-understand areas
- [ ] I have updated the documentation accordingly (README.md, CONTRIBUTE.md, etc.)
- [x] I have updated the CHANGELOG.md in the `[Unreleased]` section
- [x] My changes generate no new warnings or errors
- [x] I have added tests that prove my fix is effective or that my feature works
- [x] New and existing unit tests pass locally with my changes
- [x] Any dependent changes have been merged and published

## Additional Notes

- Branch protection, signed commits, and CI-based branch naming checks are out of scope for this PR and can be implemented globally from Enterprise account management.

